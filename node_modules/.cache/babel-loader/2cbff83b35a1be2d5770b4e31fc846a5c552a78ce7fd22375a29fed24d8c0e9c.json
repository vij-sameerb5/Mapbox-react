{"ast":null,"code":"'use strict';\n\nvar base64 = require('base-64');\nvar tokenCache = {};\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n  var parsedPayload = parsePaylod(rawPayload);\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n  tokenCache[token] = result;\n  return result;\n}\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nmodule.exports = parseToken;","map":{"version":3,"names":["base64","require","tokenCache","parseToken","token","parts","split","usage","rawPayload","Error","parsedPayload","parsePaylod","result","user","u","has","authorization","a","expires","exp","created","iat","scopes","client","lastLogin","ll","impersonator","iu","JSON","parse","decode","parseError","obj","key","Object","prototype","hasOwnProperty","call","module","exports"],"sources":["/Users/sameershaik/Desktop/mapbox-react/node_modules/@mapbox/parse-mapbox-token/index.js"],"sourcesContent":["'use strict';\n\nvar base64 = require('base-64');\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC;AAE/B,IAAIC,UAAU,GAAG,CAAC,CAAC;AAEnB,SAASC,UAAUA,CAACC,KAAK,EAAE;EACzB,IAAIF,UAAU,CAACE,KAAK,CAAC,EAAE;IACrB,OAAOF,UAAU,CAACE,KAAK,CAAC;EAC1B;EAEA,IAAIC,KAAK,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC;EAC5B,IAAIC,KAAK,GAAGF,KAAK,CAAC,CAAC,CAAC;EACpB,IAAIG,UAAU,GAAGH,KAAK,CAAC,CAAC,CAAC;EACzB,IAAI,CAACG,UAAU,EAAE;IACf,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;EAClC;EAEA,IAAIC,aAAa,GAAGC,WAAW,CAACH,UAAU,CAAC;EAE3C,IAAII,MAAM,GAAG;IACXL,KAAK,EAAEA,KAAK;IACZM,IAAI,EAAEH,aAAa,CAACI;EACtB,CAAC;EACD,IAAIC,GAAG,CAACL,aAAa,EAAE,GAAG,CAAC,EAAEE,MAAM,CAACI,aAAa,GAAGN,aAAa,CAACO,CAAC;EACnE,IAAIF,GAAG,CAACL,aAAa,EAAE,KAAK,CAAC,EAAEE,MAAM,CAACM,OAAO,GAAGR,aAAa,CAACS,GAAG,GAAG,IAAI;EACxE,IAAIJ,GAAG,CAACL,aAAa,EAAE,KAAK,CAAC,EAAEE,MAAM,CAACQ,OAAO,GAAGV,aAAa,CAACW,GAAG,GAAG,IAAI;EACxE,IAAIN,GAAG,CAACL,aAAa,EAAE,QAAQ,CAAC,EAAEE,MAAM,CAACU,MAAM,GAAGZ,aAAa,CAACY,MAAM;EACtE,IAAIP,GAAG,CAACL,aAAa,EAAE,QAAQ,CAAC,EAAEE,MAAM,CAACW,MAAM,GAAGb,aAAa,CAACa,MAAM;EACtE,IAAIR,GAAG,CAACL,aAAa,EAAE,IAAI,CAAC,EAAEE,MAAM,CAACY,SAAS,GAAGd,aAAa,CAACe,EAAE;EACjE,IAAIV,GAAG,CAACL,aAAa,EAAE,IAAI,CAAC,EAAEE,MAAM,CAACc,YAAY,GAAGhB,aAAa,CAACiB,EAAE;EAEpEzB,UAAU,CAACE,KAAK,CAAC,GAAGQ,MAAM;EAC1B,OAAOA,MAAM;AACf;AAEA,SAASD,WAAWA,CAACH,UAAU,EAAE;EAC/B,IAAI;IACF,OAAOoB,IAAI,CAACC,KAAK,CAAC7B,MAAM,CAAC8B,MAAM,CAACtB,UAAU,CAAC,CAAC;EAC9C,CAAC,CAAC,OAAOuB,UAAU,EAAE;IACnB,MAAM,IAAItB,KAAK,CAAC,eAAe,CAAC;EAClC;AACF;AAEA,SAASM,GAAGA,CAACiB,GAAG,EAAEC,GAAG,EAAE;EACrB,OAAOC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACL,GAAG,EAAEC,GAAG,CAAC;AACvD;AAEAK,MAAM,CAACC,OAAO,GAAGpC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}